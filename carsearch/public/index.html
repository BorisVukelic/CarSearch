<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet" />
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.1/js/select2.full.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script> -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="icon" href="<%= BASE_URL %>favicon.ico">
    <title>carsearch</title>

    <script>
      $(document).ready(function() {
        var list = $('.select2');
        for(var i=0 ; i<list.length ; i++){
        if(list.eq(''+i+'').val()=='BODY TYPE'){
          list.eq(''+i+'').select2({
            width:'100%',
            dropdownCssClass:'butt'+i+'',
            minimumResultsForSearch: -1
          });
        }else{
        list.eq(''+i+'').select2({
          width:'100%',
          dropdownCssClass:'butt'+i+''
        });
      }
      }
      $('.select2-selection__arrow').append("<i class='fas fa-angle-down arrowIcon'></i>");
      $('.select2').on('select2:open', function (e) {
        var el = e.target.id;
        var querya = $('#'+el+'+ span .arrowIcon');
        $(querya).css('transform','rotate(180deg)');
        $(querya).css('transition-duration','.25s');
        document.querySelector(".select2-search__field").style='transition: background-color 0.33s ease;background-color:rgba(255,255,255,0.4)';
        document.querySelector(".select2-search__field").onkeyup = function(e) {
          if(e.target.value.length >= 1){
            e.target.style='transition: background-color 0.33s ease;background-color:rgba(255,255,255,1)';
            console.log(e.target.value.length);
          }else{
            e.target.style='transition: background-color 0.33s ease;background-color:rgba(255,255,255,0.4)';
          }
        };
      });
      $('.select2').on('select2:close', function (e) {
        var el = e.target.id;
        var querya = $('#'+el+'+ span .arrowIcon');
        $(querya).css('transform','rotate(0deg)');
        $(querya).css('transition-duration','.25s');
      });
    });
    </script>

  </head>

  <body>
    <noscript>
      <strong>We're sorry but carsearch doesn't work properly without JavaScript enabled. Please enable it to continue.</strong>
    </noscript>
    <div id="app"></div>
    <!-- built files will be auto injected -->
  </body>

</html>
